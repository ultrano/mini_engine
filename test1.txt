
var vector2 = {};
vector2.new    = func(x, y) { var v = {x:x, y:y}; ::setmeta(v, vector2); return v; };
vector2.length = func() { return ::sqrt(x*x + y*y); };
vector2.dot    = func() { return new(x*x, y*y); };
vector2.finalize = func() { ::print("vector2 finalized"); };

var v = vector2.new(0, 0);

v.x = 4;
v.y = 3;
print("len: " + v.length());

var a = [1,2,3,4];
print("count: " + a.count());
var count = a.count();
var i = {index:0};
while (i.index < count)
{
  print("" + a[i.index]);
  i.index += 1;
}