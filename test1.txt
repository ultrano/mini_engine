
var vector2 = 
{
  new      : func(x, y) { var v = {x:x, y:y}; ::setmeta(v, vector2); return v; },
  length   : func() { return ::sqrt(x*x + y*y); },
  dot      : func() { return new(x*x, y*y); },
  finalize : func() { ::print("vector2 finalized"); },
  "->"     : this,
  "=="     : func(val) { return (x == val.x && y == val.y); },
  add      : func(v) { return new(x+v.x, y+v.y);},
  sub      : func(v) { return new(x-v.x, y-v.y);},
  "+"      : add,
  "-"      : sub,
};

var v = vector2.new(0,2);
v = null;
vector2 = null;
print("GC: " + ::GC());


